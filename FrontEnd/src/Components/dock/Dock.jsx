import React, { useState } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import './styles.css';

const Dock = () => {
    const navigate = useNavigate();
    const location = useLocation();
    const getActiveButton = () => {
        switch (location.pathname) {
            case '/Home':
                return '1';
            case '/Anotacoes':
                return '2';
            case '/Timeline':
                return '3';
            case '/Ajustes':
                return '4'
            default:
                return '1';
        }
    };
    const [activeButton, setActiveButton] = useState(getActiveButton());

    const handleClick = (pagina, buttonId) => {
        setActiveButton(buttonId);
        navigate(pagina);
        if ("vibrate" in navigator) navigator.vibrate(30);
    };

    return (
        <div className="dock">
            <button className="dock-button" onClick={() => handleClick('/Home', '1')}>
                <div className="dock-icon">
                    <svg width={"2rem"} height={"2rem"}>
                        <path fill={activeButton === "1" ? "#000000" : "#808080"} d="M9 29.333q-1.5 0-2.583-1.016T5.333 25.8V7.2q0-1.266.784-2.267a3.42 3.42 0 0 1 2.05-1.266l10-1.967q1.233-.267 2.2.533.966.801.966 2.067v15.9q0 .966-.6 1.717-.6.75-1.533.916l-10.5 2.1a.87.87 0 0 0-.5.317.86.86 0 0 0-.2.55q0 .366.3.617.3.25.7.25h15v-20q0-.567.383-.95a1.3 1.3 0 0 1 .95-.384q.567 0 .95.384.384.383.384.95v20q0 1.099-.784 1.883a2.57 2.57 0 0 1-1.883.783zm3-7.766 6.667-1.3V4.333L12 5.633zm-2.667.533V6.167l-.5.1q-.366.067-.6.316A.87.87 0 0 0 8 7.2v15.233q.167-.066.35-.116t.35-.084z" />
                    </svg>
                </div>
                <p style={{ color: activeButton === "1" ? "#000000" : "#808080", fontWeight: activeButton === "1" ? 700 : 400 }}>Cursos</p>
            </button>
            <button className="dock-button" onClick={() => handleClick('/Anotacoes', '2')}>
                <div className="dock-icon">
                    <svg width={"2rem"} height={"2rem"}>
                        <path fill={activeButton === "2" ? "#000000" : "#808080"} d="M9.333 26.667v-14.7q0-1.1.8-1.867a2.65 2.65 0 0 1 1.9-.767h14.634q1.099 0 1.883.784.783.783.783 1.883v10.667l-6.666 6.666H12a2.57 2.57 0 0 1-1.883-.783 2.57 2.57 0 0 1-.784-1.883M2.7 8.333q-.2-1.1.433-1.983.634-.883 1.734-1.083L19.333 2.7q1.1-.2 1.984.433.884.634 1.083 1.734l.333 1.8H20l-.233-1.334L5.333 7.9l1.334 7.533v9.3a3 3 0 0 1-.917-.8 2.46 2.46 0 0 1-.483-1.133zM12 12v14.667h9.333v-4q0-.567.384-.95a1.3 1.3 0 0 1 .95-.384h4V12z" />
                    </svg>
                </div>
                <p style={{ color: activeButton === "2" ? "#000000" : "#808080", fontWeight: activeButton === "2" ? 700 : 400 }}>Anotações</p>
            </button>
            <button className="dock-button" onClick={() => handleClick('/Timeline', '3')}>
                <div className="dock-icon">
                    <svg width={"2rem"} height={"2rem"}>
                        <path fill={activeButton === "3" ? "#000000" : "#808080"} d="M11.82 10.96c2.148 2.992.404 4.54-.71 5.68s-2.018 2.242-3.108 2.395-2.463.275-4.465-2.31c-1.601-2.066 2.999-2.71 4.405-3.008 1.4-.297-.071-.946-1.623-1.63l-.016-.007c-1.947-.859-4.201-6.998-2.907-7.858s5.74 3 8.424 6.739" />
                        <path fill={activeButton === "3" ? "#000000" : "#808080"} d="M6.935 23.031c-2.855 7.737.422 5.063 7.097-1.796 6.676-6.858 6.78-11.662 2.677-10.548s-6.92 4.608-9.774 12.344" />
                        <path fill={activeButton === "3" ? "#000000" : "#808080"} d="M21.63 16.437c-3.572.893-3.451.106-5.107 1.832s-1.889 4.556-1.374 5.53c.515.973.714 2.675 3.98 2.782 2.614.087 1.534-3.3.951-4.614-.582-1.313-.412-1.846 1.057-.986 1.308.765 7.212-1.16 7.15-2.712-.06-1.553-4.825-2.29-6.657-1.832M16.65 7.003c-.642 2.118 3.299 4.698 5.65 3.468 2.35-1.23 0-4.97-1.227-5.585-1.226-.615-3.782 0-4.423 2.117" />
                    </svg>
                </div>
                <p style={{ color: activeButton === "3" ? "#000000" : "#808080", fontWeight: activeButton === "3" ? 700 : 400 }}>Timeline</p>
            </button>
            <button className="dock-button" onClick={() => handleClick('/Ajustes', '4')}>
                <div className="dock-icon">
                    <svg width={"2rem"} height={"2rem"} viewBox="0 0 26 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill={activeButton === "4" ? "#000000" : "#808080"} d="M11.4333 27.3333C10.8333 27.3333 10.3166 27.1333 9.88331 26.7333C9.44997 26.3333 9.18886 25.8444 9.09997 25.2666L8.79997 23.0666C8.51109 22.9555 8.23886 22.8222 7.98331 22.6666C7.72775 22.5111 7.47775 22.3444 7.23331 22.1666L5.16664 23.0333C4.61108 23.2777 4.05553 23.3 3.49997 23.1C2.94442 22.9 2.51108 22.5444 2.19997 22.0333L0.633307 19.3C0.322196 18.7888 0.233307 18.2444 0.366641 17.6666C0.499974 17.0888 0.799974 16.6111 1.26664 16.2333L3.03331 14.9C3.01109 14.7444 2.99997 14.5944 2.99997 14.45V13.55C2.99997 13.4055 3.01109 13.2555 3.03331 13.1L1.26664 11.7666C0.799974 11.3888 0.499974 10.9111 0.366641 10.3333C0.233307 9.75551 0.322196 9.21107 0.633307 8.69996L2.19997 5.96663C2.51108 5.45551 2.94442 5.09996 3.49997 4.89996C4.05553 4.69996 4.61108 4.72218 5.16664 4.96663L7.23331 5.83329C7.47775 5.65551 7.73331 5.48885 7.99997 5.33329C8.26664 5.17774 8.53331 5.0444 8.79997 4.93329L9.09997 2.73329C9.18886 2.15551 9.44997 1.66663 9.88331 1.26663C10.3166 0.866626 10.8333 0.666626 11.4333 0.666626H14.5666C15.1666 0.666626 15.6833 0.866626 16.1166 1.26663C16.55 1.66663 16.8111 2.15551 16.9 2.73329L17.2 4.93329C17.4889 5.0444 17.7611 5.17774 18.0166 5.33329C18.2722 5.48885 18.5222 5.65551 18.7666 5.83329L20.8333 4.96663C21.3889 4.72218 21.9444 4.69996 22.5 4.89996C23.0555 5.09996 23.4889 5.45551 23.8 5.96663L25.3666 8.69996C25.6777 9.21107 25.7666 9.75551 25.6333 10.3333C25.5 10.9111 25.2 11.3888 24.7333 11.7666L22.9666 13.1C22.9889 13.2555 23 13.4055 23 13.55V14.45C23 14.5944 22.9777 14.7444 22.9333 14.9L24.7 16.2333C25.1666 16.6111 25.4666 17.0888 25.6 17.6666C25.7333 18.2444 25.6444 18.7888 25.3333 19.3L23.7333 22.0333C23.4222 22.5444 22.9889 22.9 22.4333 23.1C21.8778 23.3 21.3222 23.2777 20.7666 23.0333L18.7666 22.1666C18.5222 22.3444 18.2666 22.5111 18 22.6666C17.7333 22.8222 17.4666 22.9555 17.2 23.0666L16.9 25.2666C16.8111 25.8444 16.55 26.3333 16.1166 26.7333C15.6833 27.1333 15.1666 27.3333 14.5666 27.3333H11.4333ZM11.6666 24.6666H14.3L14.7666 21.1333C15.4555 20.9555 16.0944 20.6944 16.6833 20.35C17.2722 20.0055 17.8111 19.5888 18.3 19.1L21.6 20.4666L22.9 18.2L20.0333 16.0333C20.1444 15.7222 20.2222 15.3944 20.2666 15.05C20.3111 14.7055 20.3333 14.3555 20.3333 14C20.3333 13.6444 20.3111 13.2944 20.2666 12.95C20.2222 12.6055 20.1444 12.2777 20.0333 11.9666L22.9 9.79996L21.6 7.53329L18.3 8.93329C17.8111 8.42218 17.2722 7.9944 16.6833 7.64996C16.0944 7.30551 15.4555 7.0444 14.7666 6.86663L14.3333 3.33329H11.7L11.2333 6.86663C10.5444 7.0444 9.90553 7.30551 9.31664 7.64996C8.72775 7.9944 8.18886 8.41107 7.69997 8.89996L4.39997 7.53329L3.09997 9.79996L5.96664 11.9333C5.85553 12.2666 5.77775 12.6 5.73331 12.9333C5.68886 13.2666 5.66664 13.6222 5.66664 14C5.66664 14.3555 5.68886 14.7 5.73331 15.0333C5.77775 15.3666 5.85553 15.7 5.96664 16.0333L3.09997 18.2L4.39997 20.4666L7.69997 19.0666C8.18886 19.5777 8.72775 20.0055 9.31664 20.35C9.90553 20.6944 10.5444 20.9555 11.2333 21.1333L11.6666 24.6666ZM13.0666 18.6666C14.3555 18.6666 15.4555 18.2111 16.3666 17.3C17.2778 16.3888 17.7333 15.2888 17.7333 14C17.7333 12.7111 17.2778 11.6111 16.3666 10.7C15.4555 9.78885 14.3555 9.33329 13.0666 9.33329C11.7555 9.33329 10.65 9.78885 9.74997 10.7C8.84997 11.6111 8.39997 12.7111 8.39997 14C8.39997 15.2888 8.84997 16.3888 9.74997 17.3C10.65 18.2111 11.7555 18.6666 13.0666 18.6666Z"/>
                    </svg>
                </div>
                <p style={{ color: activeButton === "4" ? "#000000" : "#808080", fontWeight: activeButton === "4" ? 700 : 400 }}>Ajustes</p>
            </button>
        </div>
    );
};

export default Dock;
